spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/blog}
spring.datasource.username=${DB_USERNAME:blog}
spring.datasource.password=${DB_PASSWORD:blog}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=${SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${FORMAT_SQL:false}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

security.jwt.secret-key=${JWT_SECRET_KEY}
# 1h in millisecond
security.jwt.expiration-time=${JWT_EXPIRATION:3600000}

# Cookie security settings
# ✅ SECURITY FIX: Secure defaults for production (override with .env for local dev)
app.security.cookie.secure=${COOKIE_SECURE:true}
app.security.cookie.same-site=${COOKIE_SAME_SITE:Strict}

# ✅ SECURITY FIX: Better logging defaults (WARN in production to prevent info disclosure)
logging.level.org.springframework.web=${LOG_LEVEL_WEB:WARN}
logging.level.org.springframework.security=${LOG_LEVEL_SECURITY:WARN}
logging.level._blog.blog=${LOG_LEVEL_APP:INFO}

# Request size limits (increased for video uploads)
server.tomcat.max-http-post-size=150MB
server.tomcat.max-swallow-size=150MB

# Actuator endpoints for health checks
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always

# File upload configuration (100MB for videos, some overhead for multipart)
upload.path=uploads
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=150MB


